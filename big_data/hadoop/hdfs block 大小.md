# HDFS Block 大小设置
设置原则：平衡寻址时间和计算效率。

## 增大 block 大小的好处
### 减少硬盘寻道时间
block 大小设置的较大有利于降低硬盘寻道时间比例降低，比如一个硬盘的寻道时间是 10ms，传输速率是 100MB/S，如果 block 大小是 100MB 那么寻道时间只占传输时间的 1% ，block 越大这个时间约可以忽略不计。随着硬盘的传输速率提升，更应该减少磁头移动次数，加大 block 的大小。

### 减少 NameNode 内存大小
所有的 block 信息都会被保存在 NameNode 中，所以 block 块数越少 NameNode 压力越小。

## 增大 block 大小的坏处
### Map崩溃问题
系统需要重新启动，启动过程需要重新加载数据，数据块越大，数据加载时间越长。

### 监管时间问题
如果一个节点保持沉默超过一个预设的时间间隔，主节点记录下这个节点状态为死亡，并把分配给这个节点的数据发到别的节点。对于这个“预设的时间间隔”，这是从数据块的角度大概估算的。假如是对于64MB的数据块，我可以假设你10分钟之内无论如何也能解决了吧，超过10分钟也没反应，那就是死了。可对于640MB或是1G以上的数据，我应该要估算个多长的时间内？

### 问题分解问题
块的大小太大的话，一个map任务处理一个块，那任务数就变少了，作业运行速度也就变慢了

