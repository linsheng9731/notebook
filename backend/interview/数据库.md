# b树、b+树

B Tree vs B+ Tree 的特点与应用，在某一个表中有一个字段 a，它的类型是整型，为 a 字段建立一个索引，请说出以下几个问题使用索引的情况：



# 查询 a != 10 时，是如何使用索引的？具体有哪些过程？为什么是这样 ？

# 当 a 的最大值为 100，查询 a > 100 是如何使用索引的？具体有哪些过程？为什么是这样？

# 同一个表中有字段 b, 类型是字符型，查询 a > 100 的 a, b 两个字段的值，请问这个查询可以再优化吗？怎么优化？为什么是这样？在什么情况下无法优化？


# 一条 sql 查询是如何执行的
客户端 - 连接器 - 缓存（mysql 8.0 已经取消了这个模块 因为缓存效率非常低） - 分析器 - 优化器 - 执行器 - 存储引擎
需要注意对表的权限操作是在执行器做的，有些关联的表操作比如触发器无法在词法分析阶段得到。

# 一条更新语句如何执行
和查询非常类似，在执行器层有所不同。
查询记录 - 判断是否在内存中 - 是否需要从磁盘中加载 - 更新值 - 写入 redo log（prepare 阶段） - 写入 binlog - 提交事务（处于 commit阶段）
redo log 是物理日志，是在 server 层的跟具体的存储引擎无关。redo log 主要记录页的状态变更。
binlog 是 innodb 引入的，主要记录逻辑变更。
日志写入需要两阶段提交，即写入 redolog 是prepare阶段，完成binlog写入后才会把修改提交。保证 redolog 和 binlog 的一致性。

